var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in o){var r=o[e];delete o[e];var n={id:e,exports:{}};return t[e]=n,r.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){o[e]=t},e.parcelRequired7c6=r);var n=r("iQIUW");const s=["Бучіфаль","Вогінь","Крихітко","Дрысак","Понько"],i={startBtn:document.querySelector(".js-start-race"),winnerField:document.querySelector(".js-winner"),progressField:document.querySelector(".js-progress"),tableBody:document.querySelector(".js-results-table > tbody"),tableSummBody:document.querySelector(".js-summary-results-table > tbody")};let l,d,a=0;function u(e){return new Promise(((t,o)=>{const r=(s=1e3,i=4e3,Math.floor(Math.random()*(i-s+1)+s));var s,i;setTimeout((()=>{n.Notify.success(`${e} finished`),t({horse:e,time:r}),o({horse:e,time:r})}),r)}))}function c(e){return e.sort(((e,t)=>e.time-t.time))}function f(e,t){setTimeout((()=>{t.innerHTML="",e.map(((e,o)=>{const r=`<tr><td>${o+1}</td><td>${e.horse}</td><td>${e.time}</td></tr>`;t.insertAdjacentHTML("beforeend",r)}))}),2e3)}i.startBtn.addEventListener("click",(function(){const e=s.map(u);i.tableBody.innerHTML="",i.tableSummBody.innerHTML="",n.Notify.failure("START"),i.progressField.textContent="Заїзд почався, ставки не приймаются!",i.startBtn.disabled=!0,a+=1,Promise.all(e).then((e=>{console.table(c(e)),l=e,i.progressField.textContent=`Заїзд N ${a} закінчівся, переміг ${l[0].horse} з часом ${l[0].time} ms. `,f(l,i.tableBody),i.startBtn.disabled=!1,function(e){if(void 0===d)d=e;else for(const t of e)d.find(((e,o,r)=>{e.horse===t.horse&&(e.time+=t.time)}));console.table(c(d)),f(c(d),i.tableSummBody)}(l)})).catch((e=>console.log("we have trouble")))}));
//# sourceMappingURL=04-horses.de226fb2.js.map
